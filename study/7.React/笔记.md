# 项目创建

## webpack

```powershell
npx create-react-app my-app
```

```powershell
 yarn create react-app my-app
```

## vite

```powershell
yarn create vite
```

```powershell
 Project name: ... create-vite-react
√ Select a framework: » React
√ Select a variant: » TypeScript + SWC

Scaffolding project in E:\Study\study\7.React\React 基础 - day01\03-code\create-vite-react...

Done. Now run:

  cd create-vite-react
  yarn
  yarn dev

Done in 28.38s.

```

# useState

# useRef

# 组件通信

## 父传子props

在React中，"props"（属性）是一种机制，用于从父组件向子组件传递数据。父组件可以通过props将数据传递给子组件，从而影响或配置子组件的行为和渲染。

具体来说，父组件可以在子组件标签上的属性中设置数据，子组件通过props对象接收这些属性。以下是一个简单的示例：

```tsx
// 父传子
// 1. 父组件传递数据  子组件标签身上绑定属性
// 2. 子组件接收数据  props的参数

// 子组件 Son
import {type ReactNode} from "react";

interface SonProps {
    name: string;
    age: number;
    isTrue: boolean;
    list: string[];
    obj: { name: string };
    cb: () => void;
    child: ReactNode;
}

function Son(props: SonProps) {
    // props：对象里面包含了父组件传递过来的所有的数据
    // { name:'父组件中的数据'}
    console.dir(props)
    return <div>this is son, {props.name}, jsx: {props.child}</div>
}


function App() {
    const name = 'this is App name'
    return (
        <div>
            <Son
                name={name}
                age={18}
                isTrue={false}
                list={['vue', 'react']}
                obj={{name: 'jack'}}
                cb={() => console.log(123)}
                child={<span>this is span</span>}
            />
        </div>
    )
}

export default App
```

这是React中使用props实现父传子数据的基本模式。props不仅可以传递基本的数据类型，还可以传递函数、对象等。 Props的传递是单向的，即从父组件流向子组件，而不能直接在子组件中修改props。

## 子传父自定义事件

```tsx
// 核心：在子组件中调用父组件中的函数并传递实参

import {useState} from "react"

interface SonProps {
    onGetSonMsg: (msg: string) => void
}


function Son(props: SonProps) {
    const {onGetSonMsg} = props
    // Son组件中的数据
    const sonMsg = 'this is son msg'
    return (
        <div>
            this is Son
            <button onClick={() => onGetSonMsg(sonMsg)}>sendMsg</button>
        </div>
    )
}

function App() {
    const [msg, setMsg] = useState('')
    const getMsg = (msg: string) => {
        console.log(msg)
        setMsg(msg)
    }
    return (
        <div>
            this is App, {msg}
            <Son onGetSonMsg={getMsg}/>
        </div>
    )
}

export default App

```

## 状态提升兄弟组件通信

```tsx
// 1. 通过子传父 A -> App
// 2. 通过父传子 App -> B

import {useState} from "react"

interface AProps {
    onGetAName: (name: string) => void
}

interface BProps {
    name: string
}


function A(props: AProps) {
    const {onGetAName} = props
    // Son组件中的数据
    const name = 'this is A name'
    return (
        <div>
            this is A component,
            <button onClick={() => onGetAName(name)}>send</button>
        </div>
    )
}

function B(props: BProps) {
    const {name} = props
    return (
        <div>
            this is B component,
            {name}
        </div>
    )
}

function App() {
    const [name, setName] = useState('')
    const getAName = (name: string) => {
        console.log(name)
        setName(name)
    }
    return (
        <div>
            this is App
            <A onGetAName={getAName}/>
            <B name={name}/>
        </div>
    )
}

export default App

```

